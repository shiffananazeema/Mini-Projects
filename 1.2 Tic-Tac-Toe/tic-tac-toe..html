<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Tic Tac Toe</title>
    <style>
        body {
            margin: 0;
            display: grid;
            place-items: center;
            background: #58b2de;
            font-family: system-ui
        }

        h1 {
            color: #fff;
            font-size: 44px;
            margin: 10px 0 16px;
            font-weight: 900;
            text-align: center
        }

        .board {
            width: min(320px, 70vw);
            height: min(320px, 70vw);
            display: grid;
            grid-template: repeat(3, 1fr)/repeat(3, 1fr);
            border: 10px solid rgba(255, 255, 255, .25);
            border-radius: 12px;
            overflow: hidden;
            background: rgba(255, 255, 255, .08)
        }

        .cell {
            appearance: none;
            -webkit-appearance: none;
            margin: 0;
            padding: 0;
            outline: 0;
            border: 12px solid rgba(255, 255, 255, .25);
            background: rgba(255, 255, 255, .14);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: clamp(90px, 16vw, 90px);
            font-weight: 900;
            line-height: 0;
            border-radius: 5px;
            color: #7cd0ff;
            cursor: pointer
        }

        .cell.filled {
            background: rgba(255, 255, 255, .95);
            cursor: default
        }

        button {
            border: 3px solid rgba(255, 255, 255, .75);
            background: rgba(255, 255, 255, .2);
            color: #fff;
            padding: 12px 18px;
            border-radius: 10px;
            font-weight: 900;
            font-size: 18px;
            cursor: pointer;
            margin-top: 16px
        }

        .overlay {
            position: fixed;
            inset: 0;
            display: none;
            place-items: center;
            background: rgba(0, 0, 0, .35)
        }

        .overlay.show {
            display: grid
        }

        .modal {
            background: #fff;
            border-radius: 14px;
            padding: 18px 16px;
            width: min(320px, 90vw);
            text-align: center
        }

        .modal h2 {
            margin: 0 0 10px;
            font-size: 40px;
            font-weight: 900;
            color: #1d4f66
        }
    </style>
</head>

<body>
    <div>
        <h1>Tic Tac Toe</h1>
        <div class="board" id="b"></div>
        <div style="text-align:center"><button id="r">Restart</button></div>
    </div>

    <div class="overlay" id="o">
        <div class="modal">
            <h2 id="t">X wins!</h2>
            <button id="p" style="background:#58b2de;border-color:#58b2de;width:100%">Play Again</button>
        </div>
    </div>

    <script>
        const wins = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]];

        let p = Array(9).fill(" "), turn = "X", over = false;

        const b = document.getElementById("b"),
            o = document.getElementById("o"),
            t = document.getElementById("t");

        function w() {
            for (const [a, b, c] of wins)
                if (p[a] != " " && p[a] == p[b] && p[b] == p[c])
                    return p[a];
            return null;
        }

        function show(msg) {
            t.textContent = msg;
            o.classList.add("show");
        }

        function reset() {
            p.fill(" ");
            turn = "X";
            over = false;
            o.classList.remove("show");
            [...b.children].forEach(c => {
                c.textContent = "";
                c.classList.remove("filled");
            });
        }

        for (let i = 0; i < 9; i++) {
            const c = document.createElement("button");
            c.className = "cell";
            c.dataset.i = i;
            c.onclick = () => {
                if (over || p[i] != " ") return;
                p[i] = turn;
                c.textContent = turn;
                c.classList.add("filled");

                const win = w();
                if (win) {
                    over = true;
                    show(win + " wins!");
                }

                else if (!p.includes(" ")) {
                    over = true;
                    show("Tie!");
                }

                else turn = (turn == "X") ? "O" : "X";
            };
            b.appendChild(c);
        }

        document.getElementById("r").onclick = reset;
        document.getElementById("p").onclick = reset;
        reset();
    </script>
</body>

</html>